$(function(){Tweetr=new tweetr});var tweetr=function(){this.settings=[],this.defaults={width:640,height:480,btnText:"Close"},this.init=function(t){var t=t||!1;t===!1?(this.settings.width=this.defaults.width,this.settings.height=this.defaults.height,this.settings.btnText=this.defaults.btnText):(this.settings.width=null!==t.width?t.width:this.defaults.width,this.settings.height=null!==t.height?t.height:this.defaults.height,this.settings.btnText=null!==t.btnText?t.btnText:this.defaults.btnText)},this.open=function(t){var i=this;$("body").append('<div id="twrOverlay" class="loading" />'),$("#twrOverlay").fadeIn(300,function(){$(this).removeClass("loading").append('<div class="twrOverlay-valign"><div class="twrOverlay-valign-cell"><span class="twrOverlay-closeBtn"><a href="#" onclick="Tweetr.close(); return false;">'+i.settings.btnText+"</a></span></div></div>")});var e={w:this.settings.width,h:this.settings.height},s={x:window.screenX,y:window.screenY,w:window.innerWidth,h:window.innerHeight},n=s.x+s.w/2-e.w/2,h=s.y+s.h/2-e.h/2;this.twrWindow=window.open("https://twitter.com/intent/tweet?screen_name="+t,"twrWindow","width="+e.w+",height="+e.h+",toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left="+n+",top="+h);var i=this;this.t=setInterval(function(){i.checkWindowStatus()},500)},this.checkWindowStatus=function(){var t=this;t.twrWindow&&t.twrWindow.closed&&(clearInterval(t.t),t.close())},this.close=function(){this.twrWindow&&!this.twrWindow.closed&&this.twrWindow.close(),$("span.twrOverlay-closeBtn").fadeOut(100,function(){$("#twrOverlay").fadeOut(300,function(){$(this).remove()})})}};
